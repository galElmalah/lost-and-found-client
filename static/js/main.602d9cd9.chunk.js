(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{146:function(e,t,a){e.exports={colorPicker:"FilterList_colorPicker__297p-",filtersCon:"FilterList_filtersCon__w-YBY"}},21:function(e,t,a){e.exports={defualt:"Drawer_defualt__3MV2D",animate:"Drawer_animate__1JFBp",matchPanel:"Drawer_matchPanel__1ukRD",match:"Drawer_match__WHS1c",matchContainer:"Drawer_matchContainer__3OJ0S",settingsPanel:"Drawer_settingsPanel__G5oZX",userDetails:"Drawer_userDetails__2P22M",avatar:"Drawer_avatar__oKW-x",editIcon:"Drawer_editIcon__1KRz7",chip:"Drawer_chip__18aqu",found:"Drawer_found__3mDmB",scoreLabel:"Drawer_scoreLabel__265b-",matchLabels:"Drawer_matchLabels__RI6i9",flex:"Drawer_flex__2lH5e",email:"Drawer_email__3QvJt",matcheNo:"Drawer_matcheNo__3Oqp3",l:"Drawer_l__2yTIg",matches:"Drawer_matches__MXhU1",title:"Drawer_title__2GcSb",gradient:"Drawer_gradient__175L8",close:"Drawer_close__3IhzL"}},238:function(e,t,a){e.exports=a(432)},243:function(e,t,a){},244:function(e,t,a){},267:function(e,t,a){},43:function(e,t,a){e.exports={actionsBar:"ActionsBar_actionsBar__nWlU6",modal:"ActionsBar_modal__3QZq_",modalContent:"ActionsBar_modalContent__31qLR",form:"ActionsBar_form__23ZNl",btns:"ActionsBar_btns__JAKoj",btn:"ActionsBar_btn__2iXtv"}},431:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),c=a.n(l),o=(a(243),a(8)),i=(a(244),a(3)),s=a(55),u=a(508),m=a(512),d=a(476),f=a(514),p=a(18),h=a(14),E=a(109),g=a.n(E),b=function(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return t}})),r=Object(o.a)(a,2),l=r[0],c=r[1];return[l,function(t){try{var a=t instanceof Function?t(l):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){}}]},v=n.createContext({userDetails:{},setUserDetails:function(){throw new Error("ho shit renderd outside of a provider")}}),O={initialData:null,invokeManually:!1,data:{},method:"get"},C="https://school-lost-and-found-app.herokuapp.com",_=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r="?"===n[0]?n.substring(1):n,l=C+e;return"get"===t.toLowerCase()?"".concat(l,"?userId=").concat(a,"&").concat(r):l},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.name?Object(h.a)({},e,{user:t}):e},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O,a=Object(h.a)({},O,{},t),r=a.data,l=a.method,c=a.initialData,i=a.invokeManually,s=Object(n.useContext)(v),u=s.userDetails,m=s.queryParams,d=Object(n.useState)(!0),f=Object(o.a)(d,2),p=f[0],E=f[1],b=Object(n.useState)(!1),C=Object(o.a)(b,2),y=C[0],w=C[1],k=Object(n.useState)(c),S=Object(o.a)(k,2),D=S[0],x=S[1],N=j(r,u),A=Object(n.useCallback)((function(t,a){return console.log(a),g.a.request({url:_(a||e,l,u.googleId,m),method:l,data:t?j(t,u):N})}),[l,e,N,u]);return Object(n.useEffect)((function(){i||A().then((function(e){var t=e.data;return x(t),t})).catch(w).finally((function(){return E(!1)}))}),[]),{isFetching:p,data:D,hasError:y,callApi:A,setData:x}},w=window.L,k=new w.Icon({iconUrl:"https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),S=(new w.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),new w.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]})),D=[{name:"default",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"},{name:"Brush",url:"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.js"},{name:"world image",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}],x=Object(n.createContext)(),N=a(54),A=function(){var e=Object(n.useContext)(x),t=e.initialPosition,a=e.markers,l=e.center,c=e.draggableMarkerPosition,o=e.updateDraggableMarker,i=e.refmarker,p=e.tileUrl;if(!Object(n.useContext)(v).userDetails.name)return r.a.createElement(N.a,{to:"/"});return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(u.a,{className:s.map,center:c||l||t,zoom:12,dragging:!0},r.a.createElement(m.a,{url:p}),a.map(M),c&&r.a.createElement(d.a,{className:s.dragMarker,draggable:!0,onDragend:o,position:c,ref:i},r.a.createElement(f.a,null,"Draggable marker"))))},M=function(e){var t=e.location,a=(e.name,e.lostOrFoundAt),n=e.description,l=e.entryType,c=(e.type,e._id),o=e.color,u=e.labels,m=Object(i.a)(e,["location","name","lostOrFoundAt","description","entryType","type","_id","color","labels"]),p={color:o,backgroundColor:o,height:"17px",width:"70%",position:"relative",top:"4px"};return r.a.createElement(d.a,{key:c,position:t,icon:"found"===l?k:S},r.a.createElement(f.a,null,r.a.createElement("span",{className:s.popoverContainer},r.a.createElement("p",{className:s.descriptionItem},n),r.a.createElement("p",{className:s.informationItem},r.a.createElement("span",null,"Date:"),a.substring(0,10)),r.a.createElement("p",{className:s.informationItem},r.a.createElement("span",null,"Category:"),u.join(", ")),r.a.createElement("p",{className:s.informationItem},r.a.createElement("span",null,"By:"),m.reporter.name),o&&r.a.createElement("p",{className:s.informationItem},r.a.createElement("span",null,"Color:"),r.a.createElement("span",{clasName:s.colorItem,style:p})))))},I=a(43),T=a(483),B=a(439),L=a(486),P=a(501),F=a(28),U=a(435),W=a(507),z=a(505),R=a(482),H=a(119),G=(a(267),a(200)),q=function(e){var t=e.handleChangeComplete,a=void 0===t?console.log:t,r=e.className,l=e.width,c=void 0===l?"276px":l;return n.createElement(G.TwitterPicker,{className:r,triangle:"hide",onChangeComplete:a,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF","#795548","#000000"],width:c})};function J(e){return r.a.createElement("button",{onClick:e.clickHandler,className:I.btn},e.text)}var V=a(484),K=a(502),Q=a(481),Z=a(477),X=a(513),Y=a(6),$=a(21),ee=a(511),te=a(146),ae=a(143),ne=a.n(ae),re=a(494),le=a(509),ce=a(490),oe=a(433),ie=a(515),se=a(496),ue=a(497),me=a(485),de=a(90),fe=a(519),pe=a(495),he=a(491),Ee=a(147),ge=a.n(Ee),be=a(87),ve=a.n(be),Oe=a(202),Ce=a.n(Oe),_e=a(203),je=a.n(_e),ye=a(498),we=a(205),ke=a.n(we),Se=a(204),De=a.n(Se),xe=a(520),Ne=function(e){var t=e.isOpen,a=e.handleClose,n=e.entryType,l=e.id;return r.a.createElement(et,{isOpen:t,handleClose:a},r.a.createElement(Ae,{id:l,title:"found"===n?"Found Something":"Lost Something",entryType:n,handleClose:a}))},Ae=function(e){var t=e.id,a=(e.entryType,e.handleClose),l=e.title;console.log({handleClose:a});var c=Object(n.useContext)(v).labels,i=y("",{invokeManually:!0}).callApi,s=y("",{invokeManually:!0,method:"put"}).callApi,u=r.a.useContext(Ct).showAlert,m=Object(n.useContext)(x),d=m.enableDraggableMarker,f=(m.disableDraggableMarker,m.addMarker,m.initialPosition,m.refreshMarkers),p=m.draggableMarkerPosition,E=Object(n.useState)(!p),g=Object(o.a)(E,2),b=g[0],O=g[1],C=r.a.useState(null),_=Object(o.a)(C,2),j=_[0],w=_[1],k=r.a.useState(""),S=Object(o.a)(k,2),D=S[0],N=S[1],A=r.a.useState(""),M=Object(o.a)(A,2),B=M[0],L=M[1],U=Object(n.useState)(new Date),G=Object(o.a)(U,2),J=G[0],Y=G[1],$=r.a.useState(""),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=r.a.useState(""),re=Object(o.a)(ne,2),le=re[0],ce=re[1];r.a.useEffect((function(){i({},"/items/".concat(t)).then((function(e){var t=e.data;w(t),N(t.name),ae(t.description),ce(t.color),L(t.labels[0]||""),Y(t.lostOrFoundAt)}))}),[]);return r.a.createElement("div",{className:I.modalContent},r.a.createElement("h2",null,l),r.a.createElement("form",{className:I.form,noValidate:!0,autoComplete:"off"},b?r.a.createElement(R.a,{control:r.a.createElement(z.a,{checked:b,onClick:function(){return O((function(e){return!e}))},color:"primary"}),label:"Use my location"}):r.a.createElement(T.a,{onClick:function(){d()}},"Select a location using the map"),r.a.createElement(V.a,{container:!0,spacing:3},r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(X.a,{shrink:!0},"Date"),r.a.createElement(F.a,{utils:H.a,fullWidth:!0},r.a.createElement(P.a,{value:J,fullWidth:!0,onChange:Y}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(X.a,{shrink:!0},"Category"),r.a.createElement(K.a,{fullWidth:!0,defaultValue:"None",id:"grouped-select",value:B,onChange:function(e){L(e.target.value)}},function(){var e=[];return Object.entries(c).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],l=a[1];e.push(r.a.createElement(Z.a,null,n)),l.forEach((function(t){return e.push(r.a.createElement(Q.a,{value:t},t))}))})),e}())),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(W.a,{onChange:function(e){ae(e.target.value)},value:te,required:!0,id:"standard-textarea",label:"Item description",placeholder:"Description",multiline:!0,fullWidth:!0})),r.a.createElement(q,{width:"100%",handleChangeComplete:function(e,t){ce(e.hex)}})),r.a.createElement("div",{className:I.btns},r.a.createElement(T.a,{onClick:function(){if(te){var e=Object(h.a)({},j,{name:D,description:te,lostOrFoundAt:J.toUTCString?J.toUTCString():J,color:le,labels:[B]});s(e,"/items/".concat(t)).then((function(){return f()})),a()}else u({msg:"Description is mandatory field!",type:"error"})}},"Submit"),r.a.createElement(T.a,{onClick:function(){a()}},"Cancel"))))},Me=a(503),Ie=a(517),Te=a(206),Be=a.n(Te),Le=a(510),Pe=a(492),Fe=a(493),Ue=function(e){var t=e.pos,a=e.children,l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],s=c[1],u=Object(n.useContext)(Xe).setBadgeCounts;return Object(n.useEffect)((function(){var e=setTimeout((function(){return s(!0)}),200*t);return u((function(e){return Object(h.a)({},e,{matches:0})})),function(){return clearTimeout(e)}}),[]),r.a.createElement("div",{className:"".concat($.defualt," ").concat(i?$.animate:"")},a)},We=function(){var e=Object(n.useContext)(x),t=e.markers,a=e.setCenter,l=Object(n.useContext)(v).userDetails,c=function(){var e=t.filter((function(e){return e.reporter.id===l.googleId&&e.matches.length})),a=[];return e.forEach((function(e){a.some((function(t){return t._id===e._id}))||a.push(e)})),a},o=function(e){return t.find((function(t){return t._id===e}))};return c().length?r.a.createElement("div",{className:$.matches},r.a.createElement(qe,{pageName:"User Matches"}),c().map((function(e,t){return r.a.createElement(Ue,{pos:t,key:t},r.a.createElement(Le.a,{className:$.matchPanel},r.a.createElement(Pe.a,{expandIcon:r.a.createElement(ve.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$.flex},r.a.createElement(Ge,{type:e.entryType}),r.a.createElement(xe.a,{key:"sa",className:"".concat($.scoreLabel," ").concat($.matcheNo),label:"".concat(e.matches.length," POSSIBLE MATCHES")}),r.a.createElement(ze,{labels:e.labels})))),r.a.createElement(Fe.a,{style:{display:"block"}},r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement(de.a,{align:"left",variant:"h5"},"Entry description"),r.a.createElement(de.a,{align:"left"},e.description)),r.a.createElement(de.a,{align:"left",variant:"h5"},"Matches"),Object(p.a)(e.matches).sort((function(e,t){return e.score-t.score})).reverse().map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:$.matchContainer},r.a.createElement("div",{className:$.matchLabels},r.a.createElement(xe.a,{className:$.scoreLabel,label:"MATCH SCORE: ".concat(e.score)}),r.a.createElement("a",{href:"mailto:".concat(o(e.matchedWithEntryId).reporter.email),className:$.email},r.a.createElement(T.a,{align:"left",variant:"contained",color:"secondary"},"Contact reporter")),r.a.createElement(T.a,{align:"left",variant:"contained",color:"primary",onClick:function(){a(e.location)}},"Go to match")),r.a.createElement(de.a,{align:"left",style:{fontWeight:"bold",marginTop:"10px"}},"Reporter Email"),r.a.createElement(de.a,{align:"left"},o(e.matchedWithEntryId).reporter.email),r.a.createElement(de.a,{align:"left",style:{fontWeight:"bold",marginTop:"10px"}},"Match description"),r.a.createElement(de.a,{align:"left"},o(e.matchedWithEntryId)?o(e.matchedWithEntryId).description:"No Description"),r.a.createElement(de.a,{align:"left",style:{fontWeight:"bold",marginTop:"10px",marginBottom:"5px"}},"Match labels"),r.a.createElement(de.a,{align:"left"},r.a.createElement(ze,{labels:o(e.matchedWithEntryId).labels}))),r.a.createElement(re.a,null))})))))}))):r.a.createElement("div",{className:$.matches},r.a.createElement(qe,{pageName:"User Matches"}),r.a.createElement(de.a,{align:"center",variant:"h3",style:{marginTop:"20px"}},"No Matches!"))},ze=function(e){return e.labels.filter(Boolean).map((function(e){return r.a.createElement(xe.a,{key:e,className:$.l,label:e.toUpperCase()})}))},Re=Object(me.a)((function(e){return{root:{marginRight:"10px"}}})),He=function(e){var t=e.showAlert,a=Object(n.useContext)(x),l=a.markers,c=(a.setCenter,a.refreshMarkers),i=a.tileUrl,s=a.setTile,u=Object(n.useContext)(v).userDetails,m=Object(n.useState)({}),d=Object(o.a)(m,2),f=d[0],p=d[1],E=Object(n.useState)({}),g=Object(o.a)(E,2),b=g[0],O=g[1],C=y("",{method:"delete",invokeManually:!0}).callApi,_=function(e){return function(){C({},"/items/".concat(e)).then((function(){c(),t({msg:"Successfully deleted ".concat(e),type:"success"})}))}},j=function(e){return function(){f[e]?p((function(t){return Object(h.a)({},t,Object(Y.a)({},e,!t[e]))})):p((function(t){return Object(h.a)({},t,Object(Y.a)({},e,!0))}))}},w=function(e){return f[e]},k=Re();return r.a.createElement("div",null,r.a.createElement(qe,{pageName:"User settings"}),r.a.createElement("div",{className:$.settingsPanel},r.a.createElement("div",{className:$.userDetails},r.a.createElement(pe.a,{title:u.name},r.a.createElement(fe.a,{className:$.avatar},u.givenName[0]+u.familyName[0])),r.a.createElement(de.a,null,u.email)),r.a.createElement(re.a,null),r.a.createElement(re.a,null),r.a.createElement(ce.a,null,r.a.createElement(oe.a,{button:!0,onClick:j("map_settings")},r.a.createElement(se.a,null,r.a.createElement(Ce.a,null)),r.a.createElement(ue.a,{primary:"Map Settings"}),w("map_settings")?r.a.createElement(ge.a,null):r.a.createElement(ve.a,null)),r.a.createElement(he.a,{in:w("map_settings"),timeout:"auto",unmountOnExit:!0},r.a.createElement(ce.a,{component:"div",disablePadding:!0},r.a.createElement(oe.a,null,r.a.createElement(Ie.a,{value:i,onChange:function(e){s(e.target.value)}},D.map((function(e){return r.a.createElement(R.a,{value:e.url,control:r.a.createElement(Me.a,null),label:(t=e.name,t[0].toUpperCase()+t.substring(1))});var t})))))),r.a.createElement(oe.a,{button:!0,onClick:j("manage_entries_settings")},r.a.createElement(se.a,null,r.a.createElement(je.a,null)),r.a.createElement(ue.a,{primary:"Manage User Entries"}),w("manage_entries_settings")?r.a.createElement(ge.a,null):r.a.createElement(ve.a,null)),r.a.createElement(he.a,{in:w("manage_entries_settings"),timeout:"auto",unmountOnExit:!0},r.a.createElement(ce.a,{component:"div",disablePadding:!0},function(){var e=l.filter((function(e){return e.reporter.id===u.googleId})),t=[];return e.forEach((function(e){t.some((function(t){return t._id===e._id}))||t.push(e)})),t}().map((function(e){return r.a.createElement(oe.a,{button:!0,key:e._id},r.a.createElement(Ne,{handleClose:function(){O(null)},id:e._id,isOpen:b===e._id,entryType:e.entryType}),r.a.createElement(Ge,{type:e.entryType}),r.a.createElement(ze,{labels:e.labels}),r.a.createElement(ue.a,{primary:(a=e.description,a.length>45?a.slice(0,45)+"...":a)}),r.a.createElement(ye.a,{size:"small",color:"primary","aria-label":"edit",className:k.root,onClick:(t=e._id,function(){O(t)})},r.a.createElement(De.a,null)),r.a.createElement(ye.a,{size:"small",color:"secondary","aria-label":"delete",onClick:_(e._id)},r.a.createElement(ke.a,null)));var t,a})))))))},Ge=function(e){var t=e.type,a=void 0===t?"":t;return r.a.createElement(xe.a,{className:"".concat($.chip," ").concat("found"===a?$.found:""),label:a.toUpperCase(),color:"found"===a?"primary":"secondary"})},qe=function(e){var t=e.pageName,a=void 0===t?"":t,l=Object(n.useContext)(Xe).setOpenDrawer;return r.a.createElement("div",{className:$.title},r.a.createElement(Be.a,{className:$.close,onClick:function(){l(null)}}),r.a.createElement(de.a,{variant:"h5"},"LOST AND SPOTTINGS"),r.a.createElement(de.a,{style:{fontWeight:"bold"}},a))},Je=[{value:"LOSTS",title:"losts",subtitle:"show only losts entries"},{value:"FOUNDS",title:"founds",subtitle:"show only founds entries"},{value:"USER_ENTRIES",title:"my entries",subtitle:"show only entries reported by me"}],Ve=r.a.memo((function(){var e=r.a.useContext(Xe),t=e.incBadgeCount,a=e.decBadgeCount,n=e.filterState,l=e.setFilterState,c=r.a.useContext(v),i=c.userDetails,s=c.labels,u=c.setQueryParams,m=r.a.useContext(x).setMarkers,d=r.a.useState(n.toggels||{}),f=Object(o.a)(d,2),E=f[0],b=f[1],O=r.a.useState(n.activeLabels||[]),C=Object(o.a)(O,2),_=C[0],j=C[1],y=r.a.useState(n.range||15),w=Object(o.a)(y,2),k=w[0],S=w[1];r.a.useEffect((function(){n.toggels&&Object.values(n.toggels).filter(Boolean).length>Object.values(E).filter(Boolean).length&&a("filter"),n.toggels&&Object.values(n.toggels).filter(Boolean).length<Object.values(E).filter(Boolean).length&&t("filter"),l((function(e){return Object(h.a)({},e,{toggels:E})}))}),[E]),r.a.useEffect((function(){n.activeLabels&&n.activeLabels.length>_.length&&0===_.length&&a("filter"),n.activeLabels&&n.activeLabels.length<_.length&&1===_.length&&(console.log("shit"),t("filter")),l((function(e){return Object(h.a)({},e,{activeLabels:_})}))}),[_]),r.a.useEffect((function(){l((function(e){return Object(h.a)({},e,{range:k})}))}),[k]);var D=r.a.useRef(ne()((function(e){g.a.get("".concat("https://school-lost-and-found-app.herokuapp.com","/items").concat(e)).then((function(e){var t=e.data;m(t)}))}),300)).current;return r.a.useEffect((function(){D(function(){var e=Object.entries(E).filter((function(e){var t=Object(o.a)(e,2);t[0];return t[1]})).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return"".concat(a.toLowerCase(),"=").concat(n)})).join("&"),t=_.length?"labels=".concat(_.join(",")):"";return u("?range=".concat(k,"&").concat(e).concat(t?"&".concat(t):"")),"?range=".concat(k,"&").concat(e).concat(t?"&".concat(t):"")}())}),[E,_,k]),r.a.createElement("div",{className:te.filtersCon},r.a.createElement(qe,{pageName:"Filters"}),r.a.createElement(ce.a,{className:"slide-filter-bar"},r.a.createElement(Z.a,null,"Range Selector (radius in km)"),r.a.createElement(oe.a,null,r.a.createElement(ie.a,{value:k,min:0,step:.1,max:200,valueLabelFormat:function(e){return e},scale:function(e){return Math.pow(e,10)},onChange:function(e,t){return S(t)},valueLabelDisplay:"auto","aria-labelledby":"non-linear-slider"})),r.a.createElement(Z.a,null,"Toggle Filters"),Je.map((function(e){var t=e.title,a=e.subtitle,n=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{dense:!0,button:!0},r.a.createElement(se.a,null,r.a.createElement(z.a,{edge:"start",checked:E[n],disableRipple:!0,onChange:function(){if("USER_ENTRIES"===n)return E[n]?void b((function(e){return Object(h.a)({},e,Object(Y.a)({},n,!e[n]&&i.googleId))})):void b((function(e){return Object(h.a)({},e,Object(Y.a)({},n,i.googleId))}));E[n]?b((function(e){return Object(h.a)({},e,Object(Y.a)({},n,!e[n]))})):b((function(e){return Object(h.a)({},e,Object(Y.a)({},n,!0))}))}})),r.a.createElement(ue.a,{primary:t,secondary:a})),r.a.createElement(re.a,null))})),r.a.createElement(Z.a,null,"Categories"),r.a.createElement(oe.a,null,r.a.createElement(le.a,{multiple:!0,className:te.autocomplete,id:"tags-outlined",onChange:function(e,t){return j(t.map((function(e){return e.title})))},value:_.map((function(e){return{title:e}})),options:Object.values(s).reduce((function(e,t){return[].concat(Object(p.a)(e),Object(p.a)(t))}),[]).map((function(e){return{title:e}})),getOptionLabel:function(e){return e.title},filterSelectedOptions:!0,renderInput:function(e){return r.a.createElement(W.a,Object.assign({},e,{variant:"outlined",label:"filterSelectedOptions",placeholder:"categories"}))}})),r.a.createElement(Z.a,null,"Colors"),r.a.createElement(oe.a,null,r.a.createElement(q,null))))}),(function(){return!0})),Ke="FILTER",Qe="MATCH",Ze="SETTINGS",Xe=Object(n.createContext)({}),Ye=function(e){var t,a=e.showAlert,l=Object(n.useContext)(Xe),c=l.openDrawer,o=l.setOpenDrawer,i=(t={},Object(Y.a)(t,Ke,(function(){return r.a.createElement(Ve,{showAlert:a})})),Object(Y.a)(t,Qe,(function(){return r.a.createElement(We,{showAlert:a})})),Object(Y.a)(t,Ze,(function(){return r.a.createElement(He,{showAlert:a})})),t);return r.a.createElement(ee.a,{anchor:"left",open:!!c,onClose:function(){return o("")}},i[c]?i[c]():"")},$e=(a(430),function(e){var t=e.showAlert,a=Object(n.useState)(null),l=Object(o.a)(a,2),c=l[0],i=l[1];return r.a.createElement("div",{className:I.actionsBar},r.a.createElement(tt,{showAlert:t,isOpen:"found"===c,handleClose:function(){return i(null)}}),r.a.createElement(at,{showAlert:t,isOpen:"lost"===c,handleClose:function(){return i(null)}}),r.a.createElement(J,{text:"found",clickHandler:function(){return i("found")}}," "),r.a.createElement(J,{text:"lost",clickHandler:function(){return i("lost")}}," "))}),et=function(e){var t=e.isOpen,a=e.handleClose,n=e.children,l=void 0===n?"":n;return r.a.createElement(B.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:t,className:I.modal,onClose:a,closeAfterTransition:!0,BackdropComponent:L.a,BackdropProps:{timeout:500}},r.a.createElement(U.a,{in:t},l))},tt=function(e){var t=e.isOpen,a=e.handleClose,n=e.showAlert;return r.a.createElement(et,{isOpen:t,handleClose:a},r.a.createElement(nt,{showAlert:n,title:"Found Something",entryType:"found",handleClose:a}))},at=function(e){var t=e.isOpen,a=e.handleClose,n=e.showAlert;return r.a.createElement(et,{isOpen:t,handleClose:a},r.a.createElement(nt,{showAlert:n,title:"Lost Something",entryType:"lost",handleClose:a}))},nt=function(e){var t=e.entryType,a=e.handleClose,l=e.title,c=e.showAlert,i=Object(n.useContext)(v).labels,s=Object(n.useContext)(x),u=s.enableDraggableMarker,m=s.disableDraggableMarker,d=s.addMarker,f=s.initialPosition,p=s.draggableMarkerPosition,E=Object(n.useState)(!p),g=Object(o.a)(E,2),b=g[0],O=g[1],C=r.a.useContext(Xe).setBadgeCounts,_=r.a.useState(""),j=Object(o.a)(_,2),y=j[0],w=j[1],k=r.a.useState(""),S=Object(o.a)(k,2),D=S[0],N=S[1],A=Object(n.useState)(new Date),M=Object(o.a)(A,2),B=M[0],L=M[1],U=r.a.useState(""),G=Object(o.a)(U,2),J=G[0],Y=G[1],$=r.a.useState(""),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ne=function(){Y(""),w(""),m()};return r.a.createElement("div",{className:I.modalContent},r.a.createElement("h2",null,l),r.a.createElement("form",{className:I.form,noValidate:!0,autoComplete:"off"},b?r.a.createElement(R.a,{control:r.a.createElement(z.a,{checked:b,onClick:function(){return O((function(e){return!e}))},color:"primary"}),label:"Use my location"}):r.a.createElement(T.a,{onClick:function(){u(),a()}},"Select a location using the map"),r.a.createElement(V.a,{container:!0,spacing:3},r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(X.a,{shrink:!0},"Date"),r.a.createElement(F.a,{utils:H.a,fullWidth:!0},r.a.createElement(P.a,{value:B,fullWidth:!0,onChange:L}))),r.a.createElement(V.a,{item:!0,xs:12,sm:6},r.a.createElement(X.a,{shrink:!0},"Category"),r.a.createElement(K.a,{fullWidth:!0,defaultValue:"None",id:"grouped-select",value:D,onChange:function(e){N(e.target.value)}},function(){var e=[];return Object.entries(i).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],l=a[1];e.push(r.a.createElement(Z.a,null,n)),l.forEach((function(t){return e.push(r.a.createElement(Q.a,{value:t},t))}))})),e}())),r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(W.a,{onChange:function(e){Y(e.target.value)},value:J,required:!0,id:"standard-textarea",label:"Item description",placeholder:"Description",multiline:!0,fullWidth:!0})),r.a.createElement(q,{width:"100%",handleChangeComplete:function(e,t){ae(e.hex)}})),r.a.createElement("div",{className:I.btns},r.a.createElement(T.a,{onClick:function(){J?(d({name:y,description:J,entryType:t,location:b?f:[p.lat,p.lng],lostOrFoundAt:B.toUTCString(),color:te,labels:[D||"other"]}).then((function(e){var t=e.matches.length;t&&C((function(e){return Object(h.a)({},e,{matches:e.matches||0+t})})),c({msg:"Entry created successfully!\n".concat(t?"your entry has ".concat(t," possible matches"):""),entryType:"success"})})),ne(),a()):c({msg:"Description is mandatory field!",type:"error"})}},"Submit"),r.a.createElement(T.a,{onClick:function(){ne(),a()}},"Cancel"))))},rt=a(506),lt=a(504),ct=(a(431),a(207)),ot=a.n(ct),it=a(499),st=function(){var e=n.useContext(v),t=e.userDetails,a=e.setUserDetails,r=Object(N.g)();return t.name?n.createElement(N.a,{to:"/map"}):n.createElement("div",{className:"wrapper fadeIn"},n.createElement("div",{id:"formContent"},n.createElement("h2",{className:"active"}," LOST AND SPOTTINGS - Sign In "),n.createElement("form",null,n.createElement(it.a,{maxWidth:"sm"},n.createElement("p",null,"Login via your google account"),n.createElement(ot.a,{clientId:"1034938527427-ka0dtgorj5rgot11oofffp7l5v74rp9c.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){a(e.profileObj),r.push("/map")},onFailure:console.error,cookiePolicy:"single_host_origin",render:function(e){return n.createElement("button",{type:"button",className:"google-button",onClick:e.onClick,disabled:e.disabled},n.createElement("span",{className:"google-button__icon"},n.createElement("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),n.createElement("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),n.createElement("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),n.createElement("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"}))),n.createElement("span",{className:"google-button__text"},"Sign in with Google"))}})))),n.createElement("ul",{class:"circles"},n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null),n.createElement("li",null)))},ut=a(88),mt=a(500),dt=a(209),ft=a.n(dt),pt=a(208),ht=a.n(pt),Et=a(210),gt=a.n(Et),bt=function(){var e=n.useContext(Xe),t=e.setOpenDrawer,a=e.badgeCount;return n.createElement("div",{className:ut.badgesContaier},n.createElement(mt.a,{color:"primary",badgeContent:a.filter,className:ut.item},n.createElement(ht.a,{color:"action",onClick:function(){t(Ke)}})),n.createElement(mt.a,{color:"secondary",className:ut.item,badgeContent:a.matches},n.createElement(ft.a,{color:"action",onClick:function(){t(Qe)}})),n.createElement(mt.a,{color:"secondary",className:ut.item,onClick:function(){t(Ze)}},n.createElement(gt.a,{color:"action"})))};function vt(e){return r.a.createElement(lt.a,Object.assign({elevation:6,variant:"filled"},e))}function Ot(e){var t=e.open,a=e.setOpen,n=function(e,t){"clickaway"!==t&&a({msg:null})};return r.a.createElement("div",null,r.a.createElement(rt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:null!==t.msg,autoHideDuration:6e3,onClose:n},r.a.createElement(vt,{onClose:n,severity:t.type},t.msg)))}var Ct=r.a.createContext({showAlert:function(){}}),_t=function(e){var t=e.children,a=e.showAlert;return r.a.createElement(Ct.Provider,{value:{showAlert:a}},t)};var jt=function(){var e=r.a.useState({msg:null}),t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.createElement(N.d,null,r.a.createElement(N.b,{exact:!0,path:"/map",render:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(_t,{showAlert:n},r.a.createElement(bt,null),r.a.createElement(Ye,{showAlert:n}),r.a.createElement(Ot,{open:a,setOpen:n}),r.a.createElement($e,{showAlert:n}),r.a.createElement(A,null)))}}),r.a.createElement(N.b,{exact:!0,path:"/",render:function(){return r.a.createElement(st,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var yt=a(86);c.a.render(r.a.createElement(yt.a,{basename:"/"},r.a.createElement((function(e){var t=e.children,a=Object(n.useState)(""),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)({}),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)({}),p=Object(o.a)(f,2),E=p[0],g=p[1];return r.a.createElement(Xe.Provider,{value:{openDrawer:c,setOpenDrawer:i,incBadgeCount:function(e){d((function(t){return t[e]?Object(h.a)({},t,Object(Y.a)({},e,t[e]+1)):Object(h.a)({},t,Object(Y.a)({},e,1))}))},setBadgeCounts:d,decBadgeCount:function(e){d((function(t){return t[e]&&t[e]>0?Object(h.a)({},t,Object(Y.a)({},e,t[e]-1)):Object(h.a)({},t,Object(Y.a)({},e,0))}))},badgeCount:m,filterState:E,setFilterState:g}},t)}),null,r.a.createElement((function(e){var t=e.children,a=b("LAF-user-details",{}),r=Object(o.a)(a,2),l=r[0],c=r[1],i=n.useState(""),s=Object(o.a)(i,2),u=s[0],m=s[1],d=y("/labels",{initialData:{}}).data;return n.createElement(v.Provider,{value:{userDetails:l,setUserDetails:c,labels:d,setQueryParams:m,queryParams:u}},t)}),null,r.a.createElement((function(e){var t=e.children,a=Object(n.useState)([0,0]),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(D[0].url),u=Object(o.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(null),h=Object(o.a)(f,2),E=h[0],g=h[1],b=Object(n.useState)(null),v=Object(o.a)(b,2),O=v[0],C=v[1],_=y("/items",{initialData:[]}),j=_.data,w=_.setData,k=_.callApi;Object(n.useEffect)((function(){var e=setInterval((function(){k().then((function(e){var t=e.data;w(t)}))}),5e3);return function(){return clearInterval(e)}}),[j]);var S=y("/items",{method:"post",invokeManually:!0}).callApi,N=Object(n.useRef)();Object(n.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;i([a,n])}))}),[]);return r.a.createElement(x.Provider,{value:{initialPosition:c,setInitialPosition:i,markers:j,addMarker:function(e){return S({item:e}).then((function(e){var t=e.data;return t&&w((function(e){return[].concat(Object(p.a)(e),[t])})),t}))},setMarkers:w,removeMarker:function(e){w((function(t){return t.filter((function(t){return t.id!==e}))}))},enableDraggableMarker:function(){var e=Object(o.a)(c,2),t=e[0],a=e[1];g([t+.01,a+.01])},draggableMarkerPosition:E,updateDraggableMarker:function(e){var t=N.current;null!=t&&g(t.leafletElement.getLatLng())},refmarker:N,disableDraggableMarker:function(){g(null)},setCenter:C,center:O,refreshMarkers:function(){return k().then((function(e){var t=e.data;w(t)}))},tileUrl:m,setTile:d}},t)}),null,r.a.createElement(jt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},55:function(e,t,a){e.exports={map:"Map_map__UaOG-",dragMarker:"Map_dragMarker__2Hw5T","leaflet-popup-content":"Map_leaflet-popup-content__2a02W",popoverContainer:"Map_popoverContainer__LyS8E",descriptionItem:"Map_descriptionItem__2GBYn",informationItem:"Map_informationItem__2ev6Z",colorItem:"Map_colorItem__3K-oD"}},88:function(e,t,a){e.exports={badgesContaier:"TopBadges_badgesContaier__k2oRs",item:"TopBadges_item__1dlHs"}}},[[238,1,2]]]);
//# sourceMappingURL=main.602d9cd9.chunk.js.map